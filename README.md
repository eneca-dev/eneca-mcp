# Eneca MCP Server

MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å n8n —á–µ—Ä–µ–∑ SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç.

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Heroku

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/eneca-dev/eneca-mcp.git
cd eneca-mcp

# –£—Å—Ç–∞–Ω–æ–≤–∏ Heroku CLI
# https://devcenter.heroku.com/articles/heroku-cli
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Heroku

```bash
# –°–æ–∑–¥–∞–π –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
heroku create your-app-name

# –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ
heroku git:remote -a your-app-name
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Supabase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
heroku config:set SUPABASE_URL=your_supabase_url
heroku config:set SUPABASE_ANON_KEY=your_supabase_anon_key
heroku config:set SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
heroku config:set MCP_SERVER_NAME=eneca-mcp
heroku config:set MCP_SERVER_VERSION=2.0.0

# Rate limiting
heroku config:set RATE_LIMIT_MAX_REQUESTS=1000
heroku config:set RATE_LIMIT_WINDOW_MS=60000
```

### 4. –î–µ–ø–ª–æ–π

```bash
# –ó–∞–ø—É—à—å –∫–æ–¥
git push heroku master

# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å main –≤–µ—Ç–∫—É
git push heroku main
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
heroku open

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
heroku logs --tail
```

## üì° Endpoints

- `GET /` - Health check
- `GET /sse` - SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è n8n
- `POST /sse?sessionId=...` - MCP –∫–æ–º–∞–Ω–¥—ã
- `POST /mcp` - HTTP JSON-RPC endpoint (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SSE)

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏

- `create_project` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `search_projects` - –ü–æ–∏—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- `get_project_details` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ
- `update_project` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–¥–∏—è–º–∏

- `create_stage` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç–∞–¥–∏–∏
- `list_stages` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞–¥–∏–π –ø—Ä–æ–µ–∫—Ç–∞
- `update_stage` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç–∞–¥–∏–∏
- `delete_stage` - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞–¥–∏–∏ (—Å –æ–ø—Ü–∏–µ–π –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏

- `create_object` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- `list_objects` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- `update_object` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- `delete_object` - –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ (—Å –æ–ø—Ü–∏–µ–π –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞–º–∏

- `create_section` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
- `list_sections` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤
- `update_section` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
- `delete_section` - –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞

### –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫

- `search_by_user` - –ü–æ–∏—Å–∫ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É (–ø—Ä–æ–µ–∫—Ç—ã, –æ–±—ä–µ–∫—Ç—ã, —Ä–∞–∑–¥–µ–ª—ã)
- `search_project_team` - –ü–æ–∏—Å–∫ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–µ–∫—Ç–∞
- `get_employee_workload` - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### üìä –û—Ç—á—ë—Ç—ã –†–ü/–ù–û

- `generate_project_report_plan_fact` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –ü–ª–∞–Ω/–§–∞–∫—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É –∑–∞ –ø–µ—Ä–∏–æ–¥

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [docs/reports-tool-documentation.md](docs/reports-tool-documentation.md)

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ
npm start
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18.x
- Heroku account
- Supabase –ø—Ä–æ–µ–∫—Ç

## üö® –í–∞–∂–Ω–æ

- –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç –∏–∑ `process.env.PORT` (Heroku)
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Heroku
- Health check endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∫–æ—Ä–Ω–µ–≤–æ–º—É –ø—É—Ç–∏ `/`
